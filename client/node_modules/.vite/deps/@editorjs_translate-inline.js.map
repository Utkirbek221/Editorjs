{
  "version": 3,
  "sources": ["../../@editorjs/translate-inline/dist/Translate.mjs"],
  "sourcesContent": ["(function(){\"use strict\";try{if(typeof document!=\"undefined\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode(\"._rotate-cw_1gwtr_1{animation:_rotate-cw_1gwtr_1 .3s ease-in infinite}._rotate-ccw_1gwtr_5{animation:_rotate-ccw_1gwtr_5 .15s ease-out}@keyframes _rotate-cw_1gwtr_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _rotate-ccw_1gwtr_5{0%{transform:rotate(0)}to{transform:rotate(-360deg)}}\")),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();\nvar o = Object.defineProperty;\nvar i = (r, t, e) => t in r ? o(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e;\nvar n = (r, t, e) => (i(r, typeof t != \"symbol\" ? t + \"\" : t, e), e);\nconst a = {\n  \"rotate-cw\": \"_rotate-cw_1gwtr_1\",\n  \"rotate-ccw\": \"_rotate-ccw_1gwtr_5\"\n}, l = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 17C8 14.5 12 12 13 9\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8.5 11C8.5 11 10 14 12.5 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7.7H16M11 7.7V5.7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.5 18L15.2143 16M15.2143 16L16.9159 11.2354C16.9663 11.0942 17.1001 11 17.25 11C17.3999 11 17.5337 11.0942 17.5841 11.2354L19.2857 16M15.2143 16H19.2857M20 18L19.2857 16\"/></svg>';\nclass d {\n  constructor({ config: t, api: e }) {\n    n(this, \"api\");\n    n(this, \"config\");\n    n(this, \"nodes\");\n    n(this, \"originalText\", \"\");\n    this.config = t, this.api = e, this.nodes = {\n      wrapper: null,\n      buttonTranslate: null\n    };\n  }\n  static get isInline() {\n    return !0;\n  }\n  static get title() {\n    return \"Translate\";\n  }\n  render() {\n    return this.nodes.wrapper = document.createElement(\"button\"), this.nodes.wrapper.classList.add(this.api.styles.inlineToolButton), this.nodes.wrapper.type = \"button\", this.nodes.wrapper.innerHTML = l, this.nodes.buttonTranslate = this.nodes.wrapper.firstChild, this.nodes.wrapper;\n  }\n  async surround(t) {\n    if (this.originalText) {\n      this.toggleAnimatedButton(\"ccw\"), this.replaceText(t, this.originalText), setTimeout(() => {\n        this.toggleAnimatedButton(\"ccw\", !1);\n      }, 300), this.select(t), this.originalText = \"\";\n      return;\n    }\n    const e = t.toString();\n    if (!e)\n      return;\n    this.toggleAnimatedButton(\"cw\");\n    const s = await this.translate(e);\n    this.toggleAnimatedButton(\"cw\", !1), s && (this.originalText = e, this.replaceText(t, s), this.select(t));\n  }\n  checkState() {\n    return !1;\n  }\n  select(t) {\n    const e = window.getSelection();\n    !e || (e.removeAllRanges(), e.addRange(t));\n  }\n  replaceText(t, e) {\n    t.deleteContents(), t.insertNode(document.createTextNode(e));\n  }\n  async translate(t) {\n    if (!!t)\n      try {\n        if (!this.config.endpoint)\n          throw new Error(\"Translation endpoint is not specified\");\n        let e;\n        try {\n          e = await fetch(`${this.config.endpoint}${t}`);\n        } catch {\n          throw new Error(\"Translation server is not available\");\n        }\n        if (e.status !== 200)\n          throw new Error(\"Bad response from translation server\");\n        const s = await e.json();\n        if (s.status == \"error\")\n          throw new Error(`Server error: ${s.message}`);\n        return s.message;\n      } catch (e) {\n        this.api.notifier.show({\n          message: e.message,\n          style: \"error\"\n        });\n      }\n  }\n  toggleAnimatedButton(t, e = !0) {\n    !this.nodes.buttonTranslate || this.nodes.buttonTranslate.classList.toggle(a[`rotate-${t}`], e);\n  }\n}\nexport {\n  d as default\n};\n"],
  "mappings": "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",
  "names": []
}
